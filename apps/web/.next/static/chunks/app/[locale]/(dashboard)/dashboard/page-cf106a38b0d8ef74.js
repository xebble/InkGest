(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{5062:(e,s,r)=>{Promise.resolve().then(r.bind(r,5318))},5318:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var t=r(7573),n=r(4251),l=r(9389),d=r(7754),i=r(7653),a=r(4775);function c(e){let{className:s=""}=e,{theme:r,setTheme:n,resolvedTheme:d}=(0,a.F)(),i=(0,l.useTranslations)("theme");return(0,t.jsx)("button",{onClick:()=>{"system"===r?n("dark"===d?"light":"dark"):n("light"===r?"dark":"light")},className:"p-2 rounded-md border border-border bg-background hover:bg-accent transition-colors ".concat(s),"aria-label":"Switch to ".concat("light"===d?"dark":"light"," theme"),title:i("light"===d?"dark":"light"),children:"light"===d?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})})}var o=r(1306);let m={es:{name:"Espa\xf1ol",flag:"\uD83C\uDDEA\uD83C\uDDF8"},ca:{name:"Catal\xe0",flag:"\uD83C\uDFF4\uDB40\uDC65\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74\uDB40\uDC7F"},en:{name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"}};function x(e){let{className:s=""}=e,{locale:r,setLocale:n,availableLocales:l}=(0,o.b)(),d=m[r],i=(l.indexOf(r)+1)%l.length,a=l[i];return(0,t.jsxs)("button",{onClick:()=>{a&&n(a)},className:"p-2 rounded-md border border-border bg-background hover:bg-accent transition-colors flex items-center gap-2 ".concat(s),"aria-label":"Switch to ".concat(a?m[a].name:"next language"),title:"Current: ".concat(d.name,", Click to switch to ").concat(a?m[a].name:"next language"),children:[(0,t.jsx)("span",{className:"text-lg",children:d.flag}),(0,t.jsx)("span",{className:"text-sm font-medium",children:d.name})]})}function h(e){var s;let{title:r,className:d=""}=e,{data:i}=(0,n.useSession)(),a=(0,l.useTranslations)("auth");return(0,t.jsx)("header",{className:"bg-card shadow-sm border-b border-border ".concat(d),children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"InkGest"})}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mx-3 text-muted-foreground",children:"•"}),(0,t.jsx)("h2",{className:"text-lg font-medium text-foreground",children:r})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(c,{}),(0,t.jsx)(x,{}),i&&(0,t.jsxs)("div",{className:"flex items-center gap-3 ml-3 pl-3 border-l border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary-foreground font-medium text-sm",children:null===(s=i.user.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{className:"hidden sm:block",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-foreground",children:i.user.name}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:i.user.role})]})]}),(0,t.jsx)("button",{onClick:()=>(0,n.signOut)({callbackUrl:"/signin"}),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",title:a("signOut"),children:a("signOut")})]})]})]})})})}function u(e){let{children:s,title:r,className:n=""}=e;return(0,t.jsxs)("div",{className:"min-h-screen bg-background ".concat(n),children:[(0,t.jsx)(h,{title:r}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"px-4 py-6 sm:px-0",children:s})})]})}function j(){var e;let{data:s,status:r}=(0,n.useSession)(),a=(0,l.useTranslations)("navigation"),c=(0,l.useTranslations)("common"),o=(0,d.useRouter)();return((0,i.useEffect)(()=>{"unauthenticated"===r&&o.push("/signin")},[r,o]),"loading"===r)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg text-foreground",children:c("loading")})}):s?(0,t.jsx)(u,{title:a("dashboard"),children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"bg-card overflow-hidden shadow-sm rounded-lg border border-border",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary-foreground font-medium text-sm",children:null===(e=s.user.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-muted-foreground truncate",children:"Informaci\xf3n del Usuario"}),(0,t.jsx)("dd",{className:"text-lg font-medium text-card-foreground",children:s.user.name})]})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Email:"})," ",s.user.email]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Rol:"})," ",s.user.role]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ID Empresa:"})," ",s.user.companyId]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Tiendas:"})," ",s.user.storeIds.length]})]})})]})}),(0,t.jsx)("div",{className:"bg-card overflow-hidden shadow-sm rounded-lg border border-border",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"P"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-muted-foreground truncate",children:"Permisos"}),(0,t.jsxs)("dd",{className:"text-lg font-medium text-card-foreground",children:["Rol: ",s.user.role]})]})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsx)("p",{children:"✅ Acceso al dashboard"}),"ADMIN"===s.user.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"✅ Gesti\xf3n de empresas"}),(0,t.jsx)("p",{children:"✅ Gesti\xf3n de usuarios"}),(0,t.jsx)("p",{children:"✅ Todos los permisos"})]}),"MANAGER"===s.user.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"✅ Gesti\xf3n de tiendas"}),(0,t.jsx)("p",{children:"✅ Reportes"}),(0,t.jsx)("p",{children:"✅ Gesti\xf3n de personal"})]}),"ARTIST"===s.user.role&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"✅ Ver citas"}),(0,t.jsx)("p",{children:"✅ Ver clientes"}),(0,t.jsx)("p",{children:"❌ Crear citas"})]})]})})]})}),(0,t.jsx)("div",{className:"bg-card overflow-hidden shadow-sm rounded-lg border border-border",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"A"})})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-muted-foreground truncate",children:"Acciones R\xe1pidas"}),(0,t.jsx)("dd",{className:"text-lg font-medium text-card-foreground",children:"Pr\xf3ximamente"})]})})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("p",{children:["• ",a("appointments")]}),(0,t.jsxs)("p",{children:["• ",a("clients")]}),(0,t.jsxs)("p",{children:["• ",a("pos")]}),(0,t.jsxs)("p",{children:["• ",a("reports")]})]})})]})})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-lg text-foreground",children:"Redirigiendo..."})})}},1306:(e,s,r)=>{"use strict";r.d(s,{I:()=>i,b:()=>a});var t=r(7573),n=r(7653),l=r(7754);let d=(0,n.createContext)(void 0);function i(e){let{children:s,locale:r}=e,n=(0,l.useRouter)(),i=(0,l.usePathname)();return(0,t.jsx)(d.Provider,{value:{locale:r,setLocale:e=>{let s=i.replace(/^\/[a-z]{2}/,""),r="/".concat(e).concat(s);n.push(r)},availableLocales:["es","ca","en"]},children:s})}function a(){let e=(0,n.useContext)(d);if(void 0===e)throw Error("useLocale must be used within a LocaleProvider");return e}},4775:(e,s,r)=>{"use strict";r.d(s,{F:()=>i,f:()=>d});var t=r(7573),n=r(7653);let l=(0,n.createContext)(void 0);function d(e){let{children:s,defaultTheme:r="system",storageKey:d="inkgest-theme"}=e,[i,a]=(0,n.useState)(r),[c,o]=(0,n.useState)("light");return(0,n.useEffect)(()=>{let e=localStorage.getItem(d);e&&["light","dark","system"].includes(e)&&a(e)},[d]),(0,n.useEffect)(()=>{let e;let s=window.document.documentElement;s.classList.remove("light","dark"),e="system"===i?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i,s.classList.add(e),o(e),localStorage.setItem(d,i)},[i,d]),(0,n.useEffect)(()=>{if("system"===i){let e=window.matchMedia("(prefers-color-scheme: dark)"),s=e=>{let s=e.matches?"dark":"light";o(s);let r=window.document.documentElement;r.classList.remove("light","dark"),r.classList.add(s)};return e.addEventListener("change",s),()=>e.removeEventListener("change",s)}},[i]),(0,t.jsx)(l.Provider,{value:{theme:i,setTheme:e=>{a(e)},resolvedTheme:c},children:s})}function i(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[993,389,174,765,744],()=>s(5062)),_N_E=e.O()}]);